"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var ElementBuilder=function(){function h(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;if(_classCallCheck(this,h),r instanceof Document==0)return console.error("ElementBuilder: Invalid document variable in constructor."),!1;if(this.children=[],this._isCollectiveElement=!1,!Array.isArray(e)){for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];switch(i){case"tag":t=r.createElement(a);break;case"events":for(var l in a)t.addEventListener(l,a[l]);break;case"html":t.innerHTML=a;break;case"children":case"style":break;default:t.setAttribute(i,a)}}if(this.element=t,!e.hasOwnProperty("style")||"object"===_typeof(n=e.style)&&this.style(n),e.hasOwnProperty("children")){var o=e.children;if(Array.isArray(o)){var s,c=_createForOfIteratorHelper(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;this.children.push(new h(f,r).appendTo(this.element))}}catch(e){c.e(e)}finally{c.f()}}else"object"==_typeof(o)&&this.children.push(new h(o,r).appendTo(this.element))}return this}t=[];var u,y=_createForOfIteratorHelper(e);try{for(y.s();!(u=y.n()).done;){var p=u.value;t.push(new h(p,r))}}catch(e){y.e(e)}finally{y.f()}this.element=t,this.children=t,this._isCollectiveElement=!0}return _createClass(h,[{key:"each",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;if(Array.isArray(this.element)){var r,i=_createForOfIteratorHelper(this.element);try{for(i.s();!(r=i.n()).done;){var a=r.value;e(a,a.element)}}catch(e){i.e(e)}finally{i.f()}}else if(0<this.children.length){n&&e(this,this.element);var l,o=_createForOfIteratorHelper(this.children);try{for(o.s();!(l=o.n()).done;){var s=l.value;e(s,s.el)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"on",value:function(e,t,n){if("object"==_typeof(e))for(var r in e)this._isCollectiveElement||this.element.addEventListener(r,e[r],t);else this._isCollectiveElement||this.element.addEventListener(e,t,n);return this}},{key:"addClass",value:function(e){return this.element.classList.add(e),this}},{key:"removeClass",value:function(e){return this.element.classList.remove(e),this}},{key:"replaceClass",value:function(e,t){return this.element.classList.replace(e,t),this}},{key:"toggleClass",value:function(){this.element.classList.toggle(classList)}},{key:"append",value:function(e){if(e instanceof h)this.element.appendChild(e.element);else if(Array.isArray(e)){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.append(r)}}catch(e){n.e(e)}finally{n.f()}}else h._isElement(e)&&this.element.appendChild(e);return this}},{key:"prepend",value:function(e){if(e instanceof h)this.element.prepend(e.element);else if(Array.isArray(e)){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.prepend(r)}}catch(e){n.e(e)}finally{n.f()}}else h._isElement(e)&&this.element.prepend(e);return this}},{key:"appendTo",value:function(e){if(Array.isArray(this.element)){var t,n=_createForOfIteratorHelper(this.element);try{for(n.s();!(t=n.n()).done;){var r=t.value;r instanceof h&&this._appendTo(e,r)}}catch(e){n.e(e)}finally{n.f()}}else this._appendTo(e,this);return this}},{key:"prependTo",value:function(e){if(Array.isArray(this.element)){var t,n=_createForOfIteratorHelper(this.element);try{for(n.s();!(t=n.n()).done;){var r=t.value;r instanceof h&&this._prependTo(e,r)}}catch(e){n.e(e)}finally{n.f()}}else this._prependTo(e,this);return this}},{key:"_appendTo",value:function(e,t){if(e instanceof h)e.append(t);else if("string"==typeof e)document.querySelector(e).appendChild(t.element);else{if(!h._isElement(e))return!1;e.appendChild(t.element)}return!0}},{key:"_prependTo",value:function(e,t){if(e instanceof h)e.prepend(t);else if("string"==typeof e)document.querySelector(e).prepend(t.element);else{if(!h._isElement(e))return!1;e.prepend(t.element)}return!0}},{key:"style",value:function(e,t){if("object"==_typeof(e))for(var n in e)this.element.style.hasOwnProperty(n)&&(this.element.style[n]=e[n]);else if("string"==typeof e){if(!t)return this.element.style[e];this.element.style.hasOwnProperty(e)&&(this.element.style[e]=t)}return this}},{key:"_removeSpace",value:function(e){return e=(e=e.replace(/^\s/,"")).replace(/\s$/,"")}},{key:"el",get:function(){return this.element}},{key:"html",get:function(){return this.element.innerHTML},set:function(e){this.element.innerHTML=e}},{key:"text",get:function(){return this.element.innerText}}],[{key:"_isElement",value:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===_typeof(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"generate",value:function(e,t,n){var r,i=2<arguments.length&&void 0!==n?n:document;if(i instanceof Document==0)return console.error("ElementBuilder: Invalid document variable in constructor."),!1;if(t=t||i.body,r=new h(e,i),Array.isArray(r.element)){var a,l=_createForOfIteratorHelper(r.element);try{for(l.s();!(a=l.n()).done;){var o=a.value;o instanceof h&&o.appendTo(t)}}catch(e){l.e(e)}finally{l.f()}}else r.appendTo(t)}},{key:"createStyle",value:function(e){e=e.replace(/[\n\t]/g,"").replace(/[ ]{2,}/g,"");var t={element:document.createElement("style"),add:function(e){this.element.innerHTML+=e}};return t.element.innerHTML=e,document.head.appendChild(t.element),t}},{key:"insertProperties",value:function(e,t){for(var n in t){var r;t.hasOwnProperty(n)&&(r=t[n],e.setAttr(n,r))}}}]),h}();